---
layout: post
title: 2023-01-27-批量修改文件名
subtitle :
author: jiaqi
date: 2023-01-27 11:24
updated: 2023-02-03 10:03
categories: 
tags:
---
```toc
```

![[2023-01-27-解决cmd运行不了@echo的方法#^2ouowh]]
```
set /p str1= 请输入替换前的文件(夹)名中的字符串（空格亦适用）：
set /p str2= 请输入替换后文件(夹)名中的字符串（删除请直接回车）：
for /f "delims=" %%a in ('dir /s /b ^|sort /+65535') do (
if "%%~nxa" neq "%~nx0" (
set "file=%%a"
set "name=%%~na"
set "extension=%%~xa"
call set "name=%%name:%str1%=%str2%%%"
setlocal enabledelayedexpansion
ren "!file!" "!name!!extension!" 2>nul
endlocal
)
)
exit
```

参考：
1.百度知道问题 [批量删除多个文件名中多余的字符_百度知道 (baidu.com)](https://zhidao.baidu.com/question/571535755.html)
答主[hhqhhk](https://zhidao.baidu.com/usercenter?uid=774f4069236f25705e797b0e&role=ugc)的回答